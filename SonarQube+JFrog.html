<!doctype html>
<html class="no-js" lang="en">

<head>
    <!-- meta data -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!--font-family-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&amp;subset=devanagari,latin-ext" rel="stylesheet">

    <!-- title of site -->
    <title>Kanthivardhan K</title>

    <!-- For favicon png -->
    <link rel="shortcut icon" type="image/icon" href="assets/logo/favicon.png" />

    <!--font-awesome.min.css-->
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">

    <!--flat icon css-->
    <link rel="stylesheet" href="assets/css/flaticon.css">

    <!--animate.css-->
    <link rel="stylesheet" href="assets/css/animate.css">

    <!--owl.carousel.css-->
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/css/owl.theme.default.min.css">

    <!--bootstrap.min.css-->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!-- bootsnav -->
    <link rel="stylesheet" href="assets/css/bootsnav.css">

    <!--style.css-->
    <link rel="stylesheet" href="assets/css/style.css">

    <!--responsive.css-->
    <link rel="stylesheet" href="assets/css/responsive.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
        }

        .project-container {
            max-width: 1300px;
            margin: 130px 40px;
            padding: 0 20px;
        }

        h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        h2 {
            color: #555;
            font-size: 2em;
            margin-top: 20px;
        }

        h3 {
            color: #555;
            font-size: 1.6em;
            margin-top: 20px;
        }

        p {
            color: #666;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .project-header {
            border-bottom: 2px solid #e2e2e2;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .project-details {
            margin-bottom: 40px;
        }

        .project-description {
            margin-bottom: 20px;
        }

        .code-container {
    background-color: white;
    border-radius: 5px;
    padding: 20px;
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
    align-items: center;
    
}

pre {
    margin: 0;
    font-size: 14px;
    line-height: 1.1;
    overflow: auto;
    text-align: left;
}

code {
    font-family: Consolas, 'Courier New', monospace;
    color: #333;
    display: block;
}




    </style>

</head>

<body>
    <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
    <![endif]-->

    <!-- top-area Start -->
    <header class="top-area">
        <div class="header-area">
            <!-- Start Navigation -->
            <nav class="navbar navbar-default bootsnav navbar-fixed dark no-background">

                <div class="container">

                    <!-- Start Header Navigation -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                            <i class="fa fa-bars"></i>
                        </button>
                        <a class="navbar-brand" href="index.html">Kanthivardhan K</a>
                    </div>
                    <!--/.navbar-header-->
                    <!-- End Header Navigation -->

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
                        <ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
                            <li class=" smooth-menu active"></li>
                            <li class=" smooth-menu"><a href="index.html#education">education</a></li>
                            <li class="smooth-menu"><a href="index.html#skills">skills</a></li>
                            <li class="smooth-menu"><a href="index.html#experience">experience</a></li>
                            <li class="smooth-menu"><a href="index.html#projects">projects</a></li>
                            <li class="smooth-menu"><a href="index.html#Blog">Achievements</a></li>
                            <li class="smooth-menu"><a href="index.html#profiles">profiles</a></li>
                            <li class="smooth-menu"><a href="index.html#contact">contact</a></li>
                        </ul>
                        <!--/.nav -->
                    </div>
                    <!-- /.navbar-collapse -->
                </div>
                <!--/.container-->
            </nav>
            <!--/nav-->
            <!-- End Navigation -->
        </div>
        <!--/.header-area-->

        <div class="clearfix"></div>

    </header>
    <!-- /.top-area-->

    <section id="project">
        <div class="project-container">
            <div class="project-header">
                <h1>Code Quality Check and Artifactory</h1>
            </div>
            <div class="project-details">
                <h2>Project Overview</h2><br>
                <p>The document outlines a CI/CD pipeline integrating SonarQube and JFrog Artifactory with Jenkins. It begins with launching and configuring EC2 instances for developers and Jenkins, installing Java, Maven, Git, and required Jenkins plugins. A SonarCloud account is created to analyze code quality, with tokens added to Jenkins credentials. A JFrog Maven repository is set up for storing build artifacts, and access tokens are configured in Jenkins. The pipeline includes stages for building (mvn clean deploy), testing (unit tests via Maven Surefire), SonarQube analysis, and publishing JAR files to JFrog with metadata. If SonarQube quality gates are met, artifacts are stored, and their URLs can be shared for download. This setup ensures code quality checks, efficient artifact management, and seamless DevOps practices.</p>
				
            </div>
            <div class="project-description">
                <h2>Technologies Used</h2><br>
				<ul style="margin-left: 80px;">
                    <li>Git - For version control for tracking changes in the code files</li>
                    <li>Maven â€“ For Continuous Build </li>
                    <li>Jenkins - For continuous integration and continuous deployment </li>
					<li>SonarQube - Code Quality Checking tool </li>
					<li>JFrog - Artifactory tool</li>
                 </ul>
            </div>
            <div class="project-description">
                
                <img src="assets/images/project/img_p3_6.png" alt="Project Image" style="display: block; margin: 0 auto;"><br><br>
                <pre><code>
                    <h6>
                    Launch developers ec2 instance

                            Install git
                            Configure the user.name and user.email
                            Clone the repo
                            Add the code and push the repo to github
                    </h6>
            </code></pre>
            </div>
            <pre><code><h6>

                Launch an ec2 instance with t2.medium and 25 Gi for Jenkins

                        Install java, maven and configure the environment variables in .bash_profile
                        Install git

                Connect to Jenkins dashboard

                        Install plugins
                        maven invoker,  
                        maven integration, 
                        git, 
                        github, 
                        sonarqube scanner, 
                        artifactory

                        Configure the maven, git and java path in Jenkins>manage Jenkins> tools

            </h6></code></pre>
           <!-- <div class="code-container">
                <pre><code>
  sudo apt update

  sudo apt install openjdk-17-jre -y
                    
  sudo wget -O /usr/share/keyrings/jenkins-keyring.asc \
  https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key
                    
  echo "deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc]" \
  https://pkg.jenkins.io/debian-stable binary/ | sudo tee \
  /etc/apt/sources.list.d/jenkins.list > /dev/null
    
  sudo apt-get update
                    
  sudo apt-get install jenkins -y
                </code></pre>
            </div>
            <div class="project-description"></div>--><br>
            <img src="assets/images/project/img_p3_0.png" alt="Project Image" style="display: block; margin: auto;">
<br>
            
            
                <pre><code><h6>

                    Create account in sonar cloud

                            Create an authentication token which is used to connect with Jenkins
                            To create it myaccount>security>generatetoken>jenkinstoken->name>copy and pste the token in a safe place
                    
           </h6>     </code></pre>
            

            <!--<h3>Create IAM User</h3><br><br>
            Create IAM user with below permission and then generate access key<br><br>
                <ul style="margin-left: 80px;">
                    <li><u>AmazonEC2ContainerRegistryFullAccess</u></li>   
                    <li><u>AmazonECS_FullAccess</u></li>
                </ul><br>--><br>
            <img src="assets/images/project/img_p3_1.png" alt="Project Image" style="display: block; margin: auto;"><br>
            <!--<br><h3>Create ECR private repository</h3><br>-->
            Add these token in Jenkins credentials<br><br>
            <img src="assets/images/project/img_p3_2.png" alt="Project Image" style="display: block; margin: auto;"><br><br>

            <pre><code><h6>
                Connecting Jenkins with sq

                    In jenkins dashboard
                        Manage Jenkins> system> sonarqube servers>add sonarqube> give the name server and select the token

            </h6></code></pre><br>
            <img src="assets/images/project/img_p3_3.png" alt="Project Image" style="display: block; margin: auto;"><br>
            <br>Manage Jenkins tools>sonarqube scanner installation> add sqscanner<br><br>
            <img src="assets/images/project/img_p3_4.png" alt="Project Image" style="display: block; margin: auto;"><br><br><br><br>

            <pre><code><h6>
                
                In SonarQube create an organization with key

            </h6></code></pre>
           <!--<div class="code-container">
                <pre><code>
pipeline {
    agent any
    tools {
        maven "MAVEN3"
    }
                                        
    environment {
        registryCredential = 'ecr:us-east-1:aws_cred'
        appRegistry = "381492291062.dkr.ecr.us-east-1.amazonaws.com/vprofile_docker"
        vprofileRegistry = "https://381492291062.dkr.ecr.us-east-1.amazonaws.com"
    }
    stages {
        stage('Fetch code'){
            steps {
                git branch: 'docker', url: 'https://github.com/devopshydclub/vprofile-project.git'
            }
        }
                                        
        stage('Test'){
            steps {
                sh 'mvn test'
            }
        }
                                        
        stage ('CODE ANALYSIS WITH CHECKSTYLE'){
            steps {
                sh 'mvn checkstyle:checkstyle'
            }
            post {
                success {
                    echo 'Generated Analysis Result'
                }
            }
        }
                                               
        stage('Build App Image') {
            steps {                                
                script {
                    dockerImage = docker.build( appRegistry + ":$BUILD_NUMBER", "./Docker-files/app/multistage/")
                }                          
            }                                
        }
                                        
        stage('Upload App Image') {
            steps{
                script {
                    docker.withRegistry( vprofileRegistry, registryCredential ) {
                    dockerImage.push("$BUILD_NUMBER")
                    dockerImage.push('latest')
                    }
                }
            }
        }
    }
}
                </code></pre>
            </div><br><br><br><br>-->
            <br><img src="assets/images/project/img_p3_5.png" alt="Project Image" style="display: block; margin: auto;"><br>
            <pre><code><h6>

                Create a project in that organization

            </h6></code></pre><br>
            <img src="assets/images/project/img_p3_7.png" alt="Project Image" style="display: block; margin: auto;"><br>
            <pre><code><h6>

                In github repository it should have properties file to check the quality of code

            </h6></code></pre><br>


            <img src="assets/images/project/img_p3_8.png" alt="Project Image" style="display: block; margin: auto;"><br>
            <pre><code><h6>

                Create jfrog account

            </h6></code></pre><br>
            
            <img src="assets/images/project/img_p3_9.png" alt="Project Image" style="display: block; margin: auto;"><br><br><br><br>
            <pre><code><h6>

                Create a maven repository in jfrog by default local,virtual and remote repository will get created. We store end product in local repo

                Connecting jfrog with Jenkins
                    Administration>user accoubt> access token generate token> scoped token-username- generate-copy token and paste


            </h6></code></pre><br>
            <img src="assets/images/project/img_p3_10.png" alt="Project Image" style="display: block; margin: auto;"><br>
            <pre><code><h6>

                Adding these credentials in Jenkins
                Jenkins>manage Jenkins> credentials
                
            </h6></code></pre><br>
            <img src="assets/images/project/img_p3_11.png" alt="Project Image" style="display: block; margin: auto;"><br>
            <pre><code><h6>

                Add jfrog related script in jenkinsfiles in github repo

                Create a pipeline job in Jenkins 

                    Give poll scm * * * * 
                    Select pipeline script from scm , give git repo url and branch

                
            </h6></code></pre><br>
            <img src="assets/images/project/img_p3_12.png" alt="Project Image" style="display: block; margin: auto;"><br><br>
        
            <img src="assets/images/project/img_p3_13.png" alt="Project Image" style="display: block; margin: auto;"><br><br>

            <img src="assets/images/project/img_p3_14.png" alt="Project Image" style="display: block; margin: auto;"><br><br>


            
            <div class="code-container">
                <pre><code>
                    Jenkinsfile
                    // Define the URL of the Artifactory registry
                    def registry = 'https://kvk.jfrog.io'
                    
                    pipeline {                                    // 1  // Defines the start of the Jenkins pipeline block
                    
                        agent any                                 // Specifies the pipeline can run on any available agent
                    
                        environment {                             // 2  // Defines environment variables for the pipeline
                            PATH = "/opt/maven/bin:$PATH"         // Adds Maven's path to the system's PATH variable
                        }                                         // 2  // Ends the environment block
                    
                        stages {                                  // 3  // Defines the stages block where multiple stages are declared
                    
                            stage("build") {                      // 4  // Creates a stage named 'build'
                                steps {                           // 5  // Defines the steps that will be executed in this stage
                                    echo "----------- build started ----------"  
                                                                  // Logs a message indicating the start of the build
                                    sh 'mvn clean deploy -Dmaven.test.skip=true'  
                                                                  // Runs Maven clean and deploy commands, skipping tests
                                    echo "----------- build completed ----------"  
                                                                  // Logs a message indicating the build completion
                                }                                 // 5  // Ends the steps block for 'build' stage
                            }                                     // 4  // Ends the 'build' stage
                    
                            stage("test") {                       // 6  // Creates a stage named 'test'
                                steps {                           // 7  // Defines the steps that will be executed in this stage
                                    echo "----------- unit test started ----------"  
                                                                  // Logs a message indicating the start of unit tests
                                    sh 'mvn surefire-report:report'  
                                                                  // Runs the Maven Surefire report to execute unit tests
                                    echo "----------- unit test completed ----------"  
                                                                  // Logs a message indicating unit test completion
                                }                                 // 7  // Ends the steps block for 'test' stage
                            }                                     // 6  // Ends the 'test' stage
                    
                            stage('SonarQube analysis') {         // 8  // Creates a stage named 'SonarQube analysis'
                                environment {                     // 9  // Defines environment variables specific to this stage
                                    scannerHome = tool 'kv-sonar-scanner'  
                                                                  // Sets the SonarQube scanner tool
                                }                                 // 9  // Ends the environment block for this stage
                    
                                steps {                           // 10  // Defines the steps that will be executed in this stage
                                    withSonarQubeEnv('kv-sonarqube-server') {  
                                                                  // Executes the SonarQube analysis within the SonarQube environment
                                        sh "${scannerHome}/bin/sonar-scanner"  
                                                                  // Runs the SonarQube scanner tool
                                    }                             // Ends the withSonarQubeEnv block
                                }                                 // 10  // Ends the steps block for 'SonarQube analysis' stage
                            }                                     // 8  // Ends the 'SonarQube analysis' stage
                    
                            
                    
                            stage("Jar Publish") {                // 14  // Creates a stage named 'Jar Publish'
                                steps {                           // 15  // Defines the steps that will be executed in this stage
                                    script {                      // 16  // Allows running custom Groovy script inside the pipeline
                                        echo '<--------------- Jar Publish Started --------------->'  
                                                                  // Logs a message indicating the start of JAR publishing
                                        def server = Artifactory.newServer url: registry + "/artifactory", credentialsId: "artifact-cred"  
                                                                  // Defines the Artifactory server with the specified URL and credentials
                                        def properties = "buildid=${env.BUILD_ID},commitid=${GIT_COMMIT}"  
                                                                  // Sets properties like build ID and Git commit ID for the build
                                        def uploadSpec = """{
                                              "files": [
                                                {
                                                  "pattern": "jarstaging/(*)",
                                                  "target": "kv-libs-release-local/{1}",
                                                  "flat": "false",
                                                  "props": "${properties}",
                                                  "exclusions": [ "*.sha1", "*.md5"]
                                                }
                                             ]
                                         }"""  
                                                                  // Defines the upload specification for uploading JAR files to Artifactory
                                        def buildInfo = server.upload(uploadSpec)  
                                                                  // Uploads the files to Artifactory and collects build info
                                        buildInfo.env.collect()  
                                                                  // Collects environment variables as part of the build info
                                        server.publishBuildInfo(buildInfo)  
                                                                  // Publishes the build information to Artifactory
                                        echo '<--------------- Jar Publish Ended --------------->'  
                                                                  // Logs a message indicating the end of JAR publishing
                                    }                             // 16  // Ends the script block for 'Jar Publish' stage
                                }                                 // 15  // Ends the steps block for 'Jar Publish' stage
                            }                                     // 14  // Ends the 'Jar Publish' stage
                    
                        }                                         // 3  // Ends the stages block
                    }                                             
                    
                    Now trigger the job
                    
</code></pre>
    

</div><br>
        </p>
        <img src="assets/images/project/img_p3_15.png" alt="Project Image" style="display: block; margin: auto;"><br><br>
    <img src="assets/images/project/img_p3_16.png" alt="Project Image" style="display: block; margin: auto;"><br>
        <pre><code><h6>

            If the code satisfies the quality gate conditions the code will be stored in jfrog and pipeline continues

        </h6></code></pre><br>
        <img src="assets/images/project/img_p3_17.png" alt="Project Image" style="display: block; margin: auto;"><br>
        <img src="assets/images/project/img_p3_18.png" alt="Project Image" style="display: block; margin: auto;"><br>
        <pre><code><h6>

            To share the artifacts with others like client

                Copy the file url show in the above image and share it. 
                When they paste in browser automatically the end product (war/jar) file will be downloaded in their local machine
            
        </h6></code></pre><br>
        <img src="assets/images/project/img_p3_19.png" alt="Project Image" style="display: block; margin: auto;"><br><br>
        <img src="assets/images/project/img_p3_20.png" alt="Project Image" style="display: block; margin: auto;"><br>
    </div><br>

    





    <!-- Footer -->
<!--<footer style="background-color: #333; color: #fff; padding: 20px 0; text-align: center;">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <p>&copy; 2024 Nandu. All rights reserved.</p>
            </div>
            <div class="col-md-6">
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="display: inline; margin: 0 10px;"><a href="mailto:info@example.com" style="color: #fff; text-decoration: none;">Contact</a></li>
                    <li style="display: inline; margin: 0 10px;"><a href="privacy-policy.html" style="color: #fff; text-decoration: none;">Privacy Policy</a></li>
                    <li style="display: inline; margin: 0 10px;"><a href="terms-of-service.html" style="color: #fff; text-decoration: none;">Terms of Service</a></li>
                </ul>
            </div>
        </div>
        <div class="social-media" style="margin-top: 10px;">
            <a href="https://facebook.com" target="_blank" style="color: #fff; margin: 0 5px;"><i class="fa fa-facebook"></i></a>
            <a href="https://twitter.com" target="_blank" style="color: #fff; margin: 0 5px;"><i class="fa fa-twitter"></i></a>
            <a href="https://linkedin.com" target="_blank" style="color: #fff; margin: 0 5px;"><i class="fa fa-linkedin"></i></a>
            <a href="https://github.com" target="_blank" style="color: #fff; margin: 0 5px;"><i class="fa fa-github"></i></a>
        </div>
    </div>
</footer>-->
<!-- End Footer -->

<!-- Include Font Awesome for social media icons -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
